// For format details, see https://aka.ms/devcontainer.json
{
	"name": "Container",
	"image": "mcr.microsoft.com/devcontainers/base:ubuntu24.04",
	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": {
			"configureZshAsDefaultShell": true
		},
		"ghcr.io/devcontainers/features/node:1": {},
		"ghcr.io/devcontainers-extra/features/apt-packages:1": {
			"packages": "imagemagick"
		}
	},
	"onCreateCommand": {
		"chown-local": "sudo chown -R $(id -un):$(id -gn) $HOME/.local"
	},
	"postCreateCommand": {
		"git-safe-dir": "git config --global --add safe.directory ${containerWorkspaceFolder}",
		"npm-install": "npm install"
	},
	"remoteUser": "vscode",
	"remoteEnv": {
		"LOCAL_WORKSPACE_FOLDER": "${localWorkspaceFolder}"
	},
	"workspaceFolder": "/workspace",
	"workspaceMount": "source=${localWorkspaceFolder},target=${containerWorkspaceFolder},type=bind,consistency=cached",
	"customizations": {
		"vscode": {
			"extensions": [
				"biomejs.biome",
				"tobermory.es6-string-html",
				"boyswan.glsl-literal",
				"ggsimm.wgsl-literal",
				"polymeilex.wgsl"
			],
			"settings": {
				"editor.codeActionsOnSave": {
					"quickfix.biome": "explicit",
					"source.organizeImports.biome": "explicit"
				},
				"[javascript]": {
					"editor.defaultFormatter": "biomejs.biome"
				}
			}
		}
	}
}